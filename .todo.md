# Lint Fix Batch Plan

We will apply **all fixes at once** across the codebase to raise the lint score ≥ 9.5/10.

## Fixes to Apply

### core/utils.py
- Remove duplicate `except TimeoutExpired`.
- Use `with subprocess.Popen(...)` for resource handling.
- Keep `# pylint: disable=broad-exception-caught`.

### core/decision_engine.py
- Replace `|` with `Union` for Python 3.9 compatibility.
- Move `import json` to top (already done).
- Keep `# pylint: disable=broad-exception-caught`.

### core/storage.py
- Fix `SQLiteJSON` implementation (remove duplicate methods, unreachable code).
- Implement `process_literal_param` and `python_type` properly.
- Reorder imports (stdlib → third-party → local).
- Remove unused imports (`List`, `WorkflowStep`).
- Add `# pylint: disable=too-many-ancestors`.

### core/orchestrator.py
- Remove unused `random`.
- Reorder imports.
- Split `run_scan_async` into smaller helpers to reduce complexity.
- Keep `# pylint: disable=broad-exception-caught`.

### agents (dirb_agent.py, sublist3r_agent.py, wpscan_agent.py)
- Standardize `run(self, target, options)` signature.
- Fix missing attributes (`target`, `options`).
- Move subprocess logic into `BaseAgent.run_command()`.
- Remove unused imports.

### agents/base_agent.py
- Remove unnecessary `pass`.
- Add `run_command()` helper for subprocess execution.

### app.py
- Reorder imports (stdlib → third-party → local).
- Remove unused `json`.
- Extract duplicate subprocess logic into helper (reuse `BaseAgent.run_command()`).
- Keep `# pylint: disable=duplicate-code` if needed.

### General
- Add targeted disables for acceptable warnings:
  - `# pylint: disable=too-few-public-methods` for simple wrapper classes.
  - `# pylint: disable=too-many-ancestors` for SQLAlchemy models.

---

## Next Step
Apply these fixes across all files in one batch, then re-run `make lint` to confirm score ≥ 9.5/10.
